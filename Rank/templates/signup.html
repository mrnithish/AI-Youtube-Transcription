<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Manager Sign Up</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const verticalOptions = [
                "Smart City / Manufacturing",
                "Health Care",
                "Agriculture and Food Technology",
                "Aerospace and Defence",
                "Automobile",
                "Retail [FMCGJ] Real Estate Entertainment & Finance",
                "Power / Energy",
                "Other"
            ];
            const techOptions = [
                "Robotics and Automation",
                "AR/ VR/ Metaverse Gaming and Digital Twins",
                "Data Science / AI / ML",
                "Internet Of Things",
                "Communication and Growth Tech",
                "Additive Manufacturing (3D Printing)",
                "Low Code Development"
            ];
            const statusOptions = [
                "Ideation",
                "MVP",
                "Development",
                "Product Launch"
            ];

            function populateSelect(selectElement, options) {
                options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option;
                    optionElement.textContent = option;
                    selectElement.appendChild(optionElement);
                });
            }

            function handleSelectChange(category) {
                const selectedValues = Array.from(document.querySelectorAll(`select[name^="${category}_"]`))
                    .map(select => select.value)
                    .filter(value => value);

                updateOptions(category, selectedValues);
            }

            function updateOptions(category, selectedValues) {
                const selectElements = document.querySelectorAll(`select[name^="${category}_"]`);
                selectElements.forEach(select => {
                    const options = select.querySelectorAll('option');
                    options.forEach(option => {
                        if (selectedValues.includes(option.value) && option.value !== select.value) {
                            option.disabled = true;
                        } else {
                            option.disabled = false;
                        }
                    });
                });
            }

            function initializeSelects(category, options) {
                const formGroup = document.getElementById(`${category}_form_group`);
                for (let i = 1; i <= options.length; i++) {
                    const div = document.createElement('div');
                    div.className = "form-group";
                    const label = document.createElement('label');
                    label.htmlFor = `${category}_${i}`;
                    label.textContent = `Priority ${i}:`;
                    const select = document.createElement('select');
                    select.className = "form-control";
                    select.name = `${category}_${i}`;
                    select.id = `${category}_${i}`;
                    select.required = true;
                    populateSelect(select, options);

                    select.addEventListener('change', () => handleSelectChange(category));

                    div.appendChild(label);
                    div.appendChild(select);
                    formGroup.appendChild(div);
                }
            }

            // Initialize the selects for industry verticals, technologies, and project statuses
            initializeSelects("industry_verticals", verticalOptions);
            initializeSelects("technologies", techOptions);
            initializeSelects("project_statuses", statusOptions);
        });
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Product Manager Sign Up</h1>
        <form action="/signup" method="POST">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>

            <div class="form-group">
                <label for="email">Email ID:</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>

            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>

            <div class="form-group">
                <label for="experience">Years of Experience:</label>
                <input type="number" class="form-control" id="experience" name="experience" required>
            </div>

            <div class="form-group">
                <label for="performance_score">Performance Score:</label>
                <input type="number" class="form-control" id="performance_score" name="performance_score" required>
            </div>

            <div class="form-group">
                <label for="active_projects">Number of Active Projects:</label>
                <input type="number" class="form-control" id="active_projects" name="active_projects" required>
            </div>

            <div class="form-group">
                <label for="interest">Interest:</label>
                <input type="text" class="form-control" id="interest" name="interest" required>
            </div>

            <fieldset class="form-group" id="industry_verticals_form_group">
                <legend>Industry Verticals (Select and Assign Priority):</legend>
                <!-- Dynamically populated selects will appear here -->
            </fieldset>

            <fieldset class="form-group" id="technologies_form_group">
                <legend>Technologies (Select and Assign Priority):</legend>
                <!-- Dynamically populated selects will appear here -->
            </fieldset>

            <fieldset class="form-group" id="project_statuses_form_group">
                <legend>Project Statuses (Select and Assign Priority):</legend>
                <!-- Dynamically populated selects will appear here -->
            </fieldset>

            <button type="submit" class="btn btn-primary btn-block">Submit</button>
        </form>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
